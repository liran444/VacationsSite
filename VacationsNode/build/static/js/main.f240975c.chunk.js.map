{"version":3,"sources":["config.js","serviceWorker.ts","redux/action-type.ts","redux/app-state.ts","redux/store.ts","redux/reducer.ts","components/header/header.tsx","components/footer/footer.tsx","components/select/select.tsx","models/Vacation.ts","components/vacation-form/vacation-form.tsx","components/dialog/dialog.tsx","components/vacation/vacation.tsx","components/main-page/main-page.tsx","models/UserLoginDetails.ts","components/login/login.tsx","models/UserRegisterDetails.ts","components/register/register.tsx","components/graph/graph.tsx","components/layout/layout.tsx","index.tsx"],"names":["module","exports","server_url","window","location","hostname","Boolean","match","ActionType","store","createStore","oldAppState","action","newAppState","type","ChangeUserState","user_state","payload","GetAllVacations","vacations","DeleteVacation","filter","item","id","Login","loggedInUser","sessionStorage","setItem","JSON","stringify","AddVacation","push","GetAllDestinations","destinations","ChangeAdminState","admin_state","StoreVacationUnderEdit","vacation_under_edit","vacation","UpdateStoredVacation","find","element","image_file_name","description","destination","destination_id","price","start_date","end_date","UpdateIsFollowing","is_following","GetUserDataFromSessionStorage","parse","getItem","axios","defaults","headers","common","token","Header","prop","unsubscribeStore","logout","removeItem","dispatch","state","email","phone","this","subscribe","setState","getState","className","firstname","to","exact","onClick","Component","Footer","owner","currentYear","Date","getFullYear","SelectComponent","props","name","onChange","onOptionSelected","value","selected","disabled","key","placeholder","options","map","option","index","Vacation","image_file","VacationForm","min_date","errorMessage","fileInput","initState","chosen_destination","initDates","two_days_from_now","setDate","getDate","getAllDestinations","a","length","get","config","response","data","console","log","is_modal_open","onStartDateSelected","onEndDateSelected","onDestinationSelectedHandler","args","target","areChosenDatesValid","onDescriptionChanged","onPriceChanged","addVacation","addVacationDetails","toISOString","split","post","onClose","editVacation","editedVacation","put","onFormSubmitted","event","preventDefault","areTextInputsValid","text_length","trim","isNaN","isFormValid","isVacationImageValid","uploadImage","image","myFormData","FormData","append","uuidFileName","setImage","files","reader","FileReader","onload","preview","result","toString","readAsDataURL","onSubmit","accept","ref","fi","click","src","date","selectsStart","startDate","minDate","endDate","selectsEnd","open","onModalClosed","ResponsiveDialog","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogActions","Button","autoFocus","color","VacationComponent","Card","CardMedia","title","CardContent","user_type","IconButton","aria-label","onEditClicked","onDeleteClicked","Typography","gutterBottom","variant","component","CardActions","size","onFollowButtonClicked","MainPage","fixDate","onDescriptionInputChanged","getAllVacations","isLoaded","onDeleteVacationClicked","delete","unfollowVacation","followVacation","duplicateValue","undefined","socket","socketConn","socketIOClient","on","fixedDate","setMinutes","history","filteredData","toLowerCase","includes","placeholderText","isClearable","onStatisticsClicked","onAddVacationClicked","onEditVacationClicked","UserLoginDetails","username","password","onUsernameInputChanged","onPasswordInputChanged","login","userLoginDetails","serverResponse","UserRegisterDetails","lastname","Register","onFirstnameInputChanged","onLastnameInputChanged","register","userRegisterDetails","Graph","getAllFollowersData","displayData","maintainAspectRatio","scales","yAxes","ticks","min","stepSize","followersData","labels","dataArray","Object","prototype","hasOwnProperty","call","vacation_id","total_followers","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","onGoBackButtonClicked","width","height","Layout","path","from","ReactDOM","render","Fragment","rel","href","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.f240975c.chunk.js","sourcesContent":["module.exports = {\r\n  server_url: `http://${window.location.hostname}`,\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export enum ActionType {\r\n  GetAllVacations,\r\n  Login,\r\n  AddVacation,\r\n  GetUserDataFromSessionStorage,\r\n  GetAllDestinations,\r\n  ChangeAdminState,\r\n  StoreVacationUnderEdit,\r\n  UpdateStoredVacation,\r\n  UpdateIsFollowing,\r\n  ChangeUserState,\r\n  DeleteVacation\r\n}\r\n","import { Vacation } from \"../models/Vacation\";\r\nimport { SuccessfulLoginServerResponse } from \"../models/SuccessfulLoginServerResponse\";\r\nimport { Destination } from \"../models/Destination\";\r\n\r\nexport class AppState {\r\n  public vacations: Vacation[] = [];\r\n  public destinations: Destination[] = [];\r\n  public loggedInUser: SuccessfulLoginServerResponse = {};\r\n  public admin_state: string = \"default\";\r\n  public vacation_under_edit: Vacation = {};\r\n  public user_state: string = \"default\";\r\n}\r\n","import { createStore } from \"redux\";\r\nimport { reduce } from \"./reducer\";\r\nimport { AppState } from \"./app-state\";\r\n\r\nexport const store = createStore(reduce, new AppState());\r\n","import { AppState } from \"./app-state\";\r\nimport { ActionType } from \"./action-type\";\r\nimport { Action } from \"./action\";\r\nimport axios from \"axios\";\r\n\r\n// This function is NOT called directly by you\r\nexport function reduce(oldAppState: AppState, action: Action): AppState {\r\n  // Cloning the oldState (creating a copy)\r\n  const newAppState = { ...oldAppState };\r\n\r\n  switch (action.type) {\r\n    case ActionType.ChangeUserState:\r\n      newAppState.user_state = action.payload;\r\n      break;\r\n    case ActionType.GetAllVacations:\r\n      newAppState.vacations = action.payload;\r\n      break;\r\n    case ActionType.DeleteVacation:\r\n      newAppState.vacations = newAppState.vacations.filter((item) => item.id != action.payload);\r\n      break;\r\n    case ActionType.Login:\r\n      newAppState.loggedInUser = action.payload;\r\n      sessionStorage.setItem(\"user_data\", JSON.stringify(action.payload));\r\n      break;\r\n    case ActionType.AddVacation:\r\n      newAppState.vacations.push(action.payload);\r\n      break;\r\n    case ActionType.GetAllDestinations:\r\n      newAppState.destinations = action.payload;\r\n      break;\r\n    case ActionType.ChangeAdminState:\r\n      newAppState.admin_state = action.payload;\r\n      break;\r\n    case ActionType.StoreVacationUnderEdit:\r\n      newAppState.vacation_under_edit = action.payload.vacation;\r\n      newAppState.admin_state = action.payload.admin_state;\r\n      break;\r\n    case ActionType.UpdateStoredVacation:\r\n      newAppState.vacations.find((element) => {\r\n\r\n        if (element.id === action.payload.id) {\r\n          element.image_file_name = action.payload.image_file_name;\r\n          element.description = action.payload.description;\r\n          element.destination = action.payload.destination;\r\n          element.destination_id = action.payload.destination_id;\r\n          element.price = action.payload.price;\r\n          element.start_date = action.payload.start_date;\r\n          element.end_date = action.payload.end_date;\r\n          return element;\r\n        }\r\n\r\n      });\r\n      break;\r\n    case ActionType.UpdateIsFollowing:\r\n      newAppState.vacations.find((element) => {\r\n        if (element.id === action.payload.id) {\r\n          element.is_following = action.payload.is_following;\r\n        }\r\n        return element;\r\n      });\r\n      break;\r\n    case ActionType.GetUserDataFromSessionStorage:\r\n      newAppState.loggedInUser = JSON.parse(\r\n        sessionStorage.getItem(\"user_data\")\r\n      );\r\n\r\n      if (newAppState.loggedInUser) {\r\n        axios.defaults.headers.common[\"Authorization\"] =\r\n          \"Bearer \" + newAppState.loggedInUser.token;\r\n      }\r\n      break;\r\n  }\r\n\r\n  // After returning the new state, it's being published to all subscribers\r\n  // Each component will render itself based on the new state\r\n  return newAppState;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./header.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\n\r\ninterface HeaderState {\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n  user_state: string;\r\n}\r\n\r\nexport default class Header extends Component<any, HeaderState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  public store: { phone: string; email: string };\r\n\r\n  constructor(prop: any) {\r\n    super(prop);\r\n    this.state = { loggedInUser: null, user_state: \"default\" };\r\n\r\n    this.store = {\r\n      email: \"vacations4u.email.com\",\r\n      phone: \"+972-50-455-0188\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() =>\r\n      this.setState({\r\n        loggedInUser: store.getState().loggedInUser,\r\n        user_state: store.getState().user_state,\r\n      })\r\n    );\r\n\r\n    store.dispatch({\r\n      type: ActionType.GetUserDataFromSessionStorage,\r\n      payload: null,\r\n    });\r\n  }\r\n\r\n  private logout = () => {\r\n    sessionStorage.removeItem(\"user_data\");\r\n\r\n    store.dispatch({\r\n      type: ActionType.Login,\r\n      payload: null,\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-inverse navbar-fixed-top\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"navbar-header\">\r\n              <span id=\"profile\">\r\n                Welcome {this.state.loggedInUser?.firstname} to Vacations4U!\r\n              </span>\r\n              {this.state.loggedInUser !== null && (\r\n                <NavLink\r\n                  to=\"/login\"\r\n                  exact\r\n                  onClick={this.logout}\r\n                  className=\"btn btn-danger headerButton\"\r\n                >\r\n                  Log-out\r\n                </NavLink>\r\n              )}\r\n              {!this.state.loggedInUser &&\r\n                this.state.user_state === \"REGISTER\" && (\r\n                  <NavLink\r\n                    to=\"/login\"\r\n                    exact\r\n                    className=\"btn btn-primary headerButton\"\r\n                  >\r\n                    Login\r\n                  </NavLink>\r\n                )}\r\n\r\n              {!this.state.loggedInUser && this.state.user_state === \"LOGIN\" && (\r\n                <NavLink\r\n                  to=\"/register\"\r\n                  exact\r\n                  className=\"btn btn-primary headerButton\"\r\n                >\r\n                  Register\r\n                </NavLink>\r\n              )}\r\n            </div>\r\n            <div className=\"topRightCornerDiv\">\r\n              <div className=\"float-right contactUsDiv\">\r\n                <p className=\"infoText\">\r\n                  Contact Us:{\" \"}\r\n                  <span>\r\n                    {\" \"}\r\n                    {this.store.phone} - {this.store.email}{\" \"}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              <div id=\"myNavbar\">\r\n                <ul className=\"nav navbar-nav navbar-right navbarUl\"></ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./footer.css\";\r\n\r\nexport default class Footer extends Component {\r\n  public owner: string = \"Liran Dekamhi\";\r\n  public currentYear: number = new Date().getFullYear();\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <p className=\"footer\">\r\n          &copy; Copyrights reservered to {this.owner} - {this.currentYear}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./select.css\";\r\n\r\nexport default class SelectComponent extends Component<any> {\r\n  public constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <select\r\n          name={this.props.name}\r\n          onChange={this.props.onOptionSelected}\r\n          value={\r\n            this.props.selected?.id\r\n              ? JSON.stringify(this.props.selected)\r\n              : \"default\"\r\n          }\r\n        >\r\n          <option disabled value=\"default\" key=\"default\">\r\n            {this.props.placeholder}\r\n          </option>\r\n\r\n          {/* Iterating through an array of options and assigning as a value for each option \r\n          a Stringified JSON object */}\r\n          {this.props.options.map((option: any, index: any) => (\r\n            <option value={JSON.stringify(option)} key={index}>\r\n              {option.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class Vacation {\r\n  public constructor(\r\n    public id?: number,\r\n    public destination_id?: number,\r\n    public destination?: string,\r\n    public description?: string,\r\n    public start_date?: string,\r\n    public end_date?: string,\r\n    public price?: number,\r\n    public image_file_name?: string,\r\n    public image_file?: File,\r\n    public is_following?: boolean\r\n  ) {}\r\n}\r\n","import React, { Component, ChangeEvent, FormEvent } from \"react\";\r\nimport \"./vacation-form.css\";\r\nimport axios from \"axios\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Destination } from \"../../models/Destination\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport config from \"../../config\";\r\nimport SelectComponent from \"../select/select\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { Vacation } from \"../../models/Vacation\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport FormData from \"form-data\";\r\n\r\ninterface VacationFormState {\r\n  admin_state: string;\r\n  vacation_under_edit: Vacation;\r\n  destinations: Destination[];\r\n  chosen_destination: Destination;\r\n  description: string;\r\n  start_date: Date;\r\n  end_date: Date;\r\n  price: number;\r\n  is_modal_open: boolean;\r\n  preview: string;\r\n}\r\n\r\nexport default class VacationForm extends Component<any, VacationFormState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  private min_date?: Date;\r\n  private errorMessage?: string;\r\n  private fileInput: HTMLInputElement;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      admin_state: \"default\",\r\n      vacation_under_edit: store.getState().vacation_under_edit,\r\n      destinations: [],\r\n      chosen_destination: null,\r\n      description: \"\",\r\n      start_date: null,\r\n      end_date: null,\r\n      price: null,\r\n      is_modal_open: false,\r\n      preview: \"\",\r\n    };\r\n\r\n    this.min_date = new Date();\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() =>\r\n      this.setState({\r\n        destinations: store.getState().destinations,\r\n        vacation_under_edit: store.getState().vacation_under_edit,\r\n        admin_state: store.getState().admin_state,\r\n      })\r\n    );\r\n    // Checking whether there's currently a vacation being edited or not\r\n    if (store.getState().vacation_under_edit !== null) {\r\n      this.initState();\r\n    } else {\r\n      this.initDates();\r\n    }\r\n\r\n    this.setState({\r\n      admin_state: store.getState().admin_state,\r\n    });\r\n    await this.getAllDestinations();\r\n  }\r\n\r\n  public initState = () => {\r\n    this.setState({\r\n      chosen_destination: {\r\n        id: store.getState().vacation_under_edit?.destination_id,\r\n        name: store.getState().vacation_under_edit?.destination,\r\n      },\r\n      start_date: new Date(store.getState().vacation_under_edit?.start_date),\r\n      end_date: new Date(store.getState().vacation_under_edit?.end_date),\r\n      description: store.getState().vacation_under_edit?.description,\r\n      price: store.getState().vacation_under_edit?.price,\r\n    });\r\n  };\r\n\r\n  public initDates = () => {\r\n    let two_days_from_now = new Date();\r\n    this.min_date.setDate(this.min_date.getDate() + 1);\r\n    two_days_from_now.setDate(two_days_from_now.getDate() + 2);\r\n\r\n    this.setState({ start_date: this.min_date });\r\n    this.setState({ end_date: two_days_from_now });\r\n  };\r\n\r\n  public getAllDestinations = async () => {\r\n    if (store.getState().destinations.length === 0) {\r\n      try {\r\n        const response = await axios.get<Destination[]>(\r\n          `${config.server_url}/destinations/`\r\n        );\r\n\r\n        store.dispatch({\r\n          type: ActionType.GetAllDestinations,\r\n          payload: response.data,\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.errorMessage =\r\n          \"Failed to get Destinations, \" + error.response.data;\r\n        this.setState({ is_modal_open: true });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        destinations: store.getState().destinations,\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The starting date selected for the vacation\r\n   */\r\n  public onStartDateSelected = (value: any) => {\r\n    const start_date = value;\r\n    this.setState({ start_date });\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The ending date selected for the vacation\r\n   */\r\n  public onEndDateSelected = (value: any) => {\r\n    const end_date = value;\r\n    this.setState({ end_date });\r\n  };\r\n\r\n  public onDestinationSelectedHandler = (\r\n    args: ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    const chosen_destination = JSON.parse(args.target.value);\r\n    this.setState({ chosen_destination });\r\n  };\r\n\r\n  public areChosenDatesValid = () => {\r\n    let { start_date, end_date } = this.state;\r\n    if (new Date(start_date) < new Date(end_date)) {\r\n      return true;\r\n    }\r\n\r\n    this.errorMessage =\r\n      \"The ending date must be greater than the starting date\";\r\n    return false;\r\n  };\r\n\r\n  private onDescriptionChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const description = args.target.value;\r\n    this.setState({ description });\r\n  };\r\n\r\n  private onPriceChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const price = +args.target.value;\r\n    this.setState({ price });\r\n  };\r\n\r\n  public addVacation = async () => {\r\n    try {\r\n      let addVacationDetails = new Vacation(\r\n        null,\r\n        this.state.chosen_destination.id,\r\n        this.state.chosen_destination.name,\r\n        this.state.description,\r\n        this.state.start_date.toISOString().split(\"T\")[0],\r\n        this.state.end_date.toISOString().split(\"T\")[0],\r\n        this.state.price,\r\n        this.state.vacation_under_edit.image_file_name\r\n      );\r\n\r\n      await axios.post<Vacation>(\r\n        `${config.server_url}/vacations/`,\r\n        addVacationDetails\r\n      );\r\n\r\n      this.props.onClose();\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to add Vacation, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public editVacation = async () => {\r\n    try {\r\n      let editedVacation = new Vacation(\r\n        this.state.vacation_under_edit.id,\r\n        this.state.chosen_destination.id,\r\n        this.state.chosen_destination.name,\r\n        this.state.description,\r\n        this.state.start_date.toISOString().split(\"T\")[0],\r\n        this.state.end_date.toISOString().split(\"T\")[0],\r\n        this.state.price,\r\n        this.state.vacation_under_edit.image_file_name\r\n      );\r\n\r\n      await axios.put<Vacation>(\r\n        `${config.server_url}/vacations/`,\r\n        editedVacation\r\n      );\r\n\r\n      this.props.onClose();\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to edit Vacation, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Determines whether the adming is adding or editing a vacation and proceeds accordingly\r\n   * @param event - The event of the form, used for preventing the form from refreshing (its default action on submit)\r\n   */\r\n  public onFormSubmitted = async (event: FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (this.state.admin_state === \"Adding\") {\r\n      await this.addVacation();\r\n    }\r\n    if (this.state.admin_state === \"Editing\") {\r\n      await this.editVacation();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Validates that the text inputs  meet the requirements and setting an error message accordingly\r\n   */\r\n  public areTextInputsValid = () => {\r\n    let { description, price } = this.state;\r\n    let text_length = description.trim().length;\r\n\r\n    if (text_length < 4 || text_length > 45) {\r\n      this.errorMessage = \"Description must contain between 4 - 45 letters\";\r\n      return false;\r\n    }\r\n    if (isNaN(price) || price < 100) {\r\n      this.errorMessage = \"Price must be 100$ or greater\";\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  public isVacationImageValid() {\r\n    if (this.state.vacation_under_edit?.image_file_name) {\r\n      return true;\r\n    }\r\n\r\n    this.errorMessage = \"Please Select Image\";\r\n    return false;\r\n  }\r\n\r\n  public isFormValid = () => {\r\n    if (\r\n      this.areChosenDatesValid() &&\r\n      this.areTextInputsValid() &&\r\n      this.isVacationImageValid()\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public uploadImage = async (image: File) => {\r\n    try {\r\n      const myFormData = new FormData();\r\n      myFormData.append(\"image\", image, image.name);\r\n\r\n      const response = await axios.post<Vacation>(\r\n        `${config.server_url}/vacations/upload_image_file/`,\r\n        myFormData\r\n      );\r\n\r\n      let uuidFileName = response.data;\r\n\r\n      return uuidFileName;\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to upload image, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  private setImage = async (args: ChangeEvent<HTMLInputElement>) => {\r\n    // Extracting the selected file date (textual info)\r\n    const image = args.target.files[0];\r\n\r\n    let uuidFileName = await this.uploadImage(image);\r\n    if (uuidFileName) {\r\n      // Cloning vacation\r\n      const vacation_under_edit = { ...this.state.vacation_under_edit };\r\n\r\n      // Adding the image to the cloned vacation object\r\n      vacation_under_edit.image_file = image;\r\n      vacation_under_edit.image_file_name = \"\" + uuidFileName;\r\n\r\n      // Updating the state\r\n      this.setState({ vacation_under_edit });\r\n\r\n      // Display image on client:\r\n      var reader = new FileReader();\r\n\r\n      // Initializing the \"onload\" event of the reader object\r\n      // Meaning : AFTER the picture is selected, the preview field\r\n      // will be refreshed, and will display the picture\r\n      reader.onload = (event) =>\r\n        this.setState({ preview: event.target.result.toString() });\r\n\r\n      // Read the file data (image binary), into the image field\r\n      reader.readAsDataURL(image);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"vacation-form\">\r\n        <form\r\n          className=\"vacation-form\"\r\n          onSubmit={(event) => {\r\n            this.onFormSubmitted(event);\r\n          }}\r\n        >\r\n          <div>\r\n            <SelectComponent\r\n              name=\"groupsSelectBox\"\r\n              placeholder=\"-- Select Destination --\"\r\n              options={this.state.destinations}\r\n              selected={this.state.chosen_destination}\r\n              onOptionSelected={(event: any) => {\r\n                this.onDestinationSelectedHandler(event);\r\n              }}\r\n            />\r\n\r\n            {this.state.chosen_destination?.id && (\r\n              <div>\r\n                <input\r\n                  className=\"uploadInput\"\r\n                  type=\"file\"\r\n                  onChange={this.setImage}\r\n                  accept=\"image/*\"\r\n                  ref={(fi) => (this.fileInput = fi)}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"uploadButton\"\r\n                  onClick={() => this.fileInput.click()}\r\n                >\r\n                  Select Vacation Image\r\n                </button>\r\n                <br />\r\n                <br />\r\n\r\n                <img\r\n                  src={\r\n                    this.state.vacation_under_edit?.image_file_name\r\n                      ? `${config.server_url}/uploads/${this.state.vacation_under_edit.image_file_name}`\r\n                      : this.state.preview\r\n                  }\r\n                />\r\n\r\n                <span className=\"formSpan descriptionSpan\">Description:</span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"* Enter Description...\"\r\n                  name=\"description\"\r\n                  value={this.state.description}\r\n                  onChange={this.onDescriptionChanged}\r\n                />\r\n\r\n                <span className=\"formSpan\">Start Date:</span>\r\n                <DatePicker\r\n                  selected={this.state.start_date}\r\n                  onChange={(date) => {\r\n                    this.onStartDateSelected(date);\r\n                  }}\r\n                  selectsStart\r\n                  startDate={this.state.start_date}\r\n                  minDate={this.min_date}\r\n                  endDate={this.state.end_date}\r\n                />\r\n\r\n                <span className=\"formSpan\">End Date:</span>\r\n                <DatePicker\r\n                  selected={this.state.end_date}\r\n                  onChange={(date) => {\r\n                    this.onEndDateSelected(date);\r\n                  }}\r\n                  selectsEnd\r\n                  startDate={this.state.start_date}\r\n                  minDate={this.min_date}\r\n                  endDate={this.state.end_date}\r\n                />\r\n\r\n                <span className=\"formSpan\">Total Price:</span>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"* Enter Price\"\r\n                  name=\"price\"\r\n                  value={this.state.price || \"\"}\r\n                  onChange={this.onPriceChanged}\r\n                />\r\n\r\n                {!this.isFormValid() && (\r\n                  <div className=\"alertMessage\">\r\n                    <span>{this.errorMessage}</span>\r\n                  </div>\r\n                )}\r\n\r\n                {this.isFormValid() && (\r\n                  <div className=\"center\">\r\n                    <input type=\"submit\" className=\"submitButton\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </form>\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport VacationForm from \"../vacation-form/vacation-form\";\r\n\r\ninterface DialogState {\r\n  open: boolean;\r\n}\r\n\r\nexport default class ResponsiveDialog extends Component<any, DialogState> {\r\n  public constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.props.open}\r\n          onClose={() => this.props.onClose()}\r\n          aria-labelledby=\"responsive-dialog-title\"\r\n        >\r\n          <DialogTitle\r\n            id=\"responsive-dialog-title\"\r\n            className=\"formHeader addVacation\"\r\n          >\r\n            {this.props.errorMessage\r\n              ? \"Error!\"\r\n              : this.props.admin_state + \" A Vacation\"}\r\n            <hr />\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.props.errorMessage ? (\r\n              this.props.errorMessage\r\n            ) : (\r\n                <VacationForm onClose={() => this.props.onClose()} />\r\n              )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              autoFocus\r\n              onClick={() => this.props.onClose()}\r\n              color=\"primary\"\r\n            >\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./vacation.css\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { store } from \"../../redux/store\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport config from \"../../config\";\r\n\r\ninterface VacationState {\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n}\r\n\r\nexport default class VacationComponent extends Component<any, VacationState> {\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      loggedInUser: store.getState().loggedInUser,\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"vacation\">\r\n        <Card className=\"root\">\r\n          <CardMedia\r\n            className=\"media\"\r\n            image={\r\n              config.server_url +\r\n              \"/uploads/\" +\r\n              this.props.vacation.image_file_name\r\n            }\r\n            title={this.props.vacation.destination}\r\n          />\r\n          <CardContent>\r\n            {this.state.loggedInUser?.user_type === \"ADMIN\" && (\r\n              <div>\r\n                <IconButton\r\n                  aria-label=\"edit\"\r\n                  color=\"primary\"\r\n                  onClick={() => this.props.onEditClicked(this.props.vacation)}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  onClick={() =>\r\n                    this.props.onDeleteClicked(this.props.vacation.id)\r\n                  }\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </div>\r\n            )}\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              {this.props.vacation.destination}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"p\"\r\n              className=\"description\"\r\n            >\r\n              {this.props.vacation.description}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"span\"\r\n              className=\"description\"\r\n            >\r\n              Only {this.props.vacation.price}$\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions className=\"d-flex\">\r\n            {this.state.loggedInUser?.user_type !== \"ADMIN\" && (\r\n              <Button\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  this.props.onFollowButtonClicked(this.props.vacation);\r\n                }}\r\n              >\r\n                {this.props.vacation.is_following ? \"Unfollow\" : \"Follow\"}\r\n              </Button>\r\n            )}\r\n\r\n            <div className=\"ml-auto p-2\">\r\n              <span className=\"startDate\">\r\n                {this.props.vacation.start_date}\r\n              </span>\r\n              <span> - </span>\r\n              <span className=\"endDate\">{this.props.vacation.end_date}</span>\r\n            </div>\r\n          </CardActions>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { ChangeEvent, Component } from \"react\";\r\nimport \"./main-page.css\";\r\nimport axios from \"axios\";\r\nimport { store } from \"../../redux/store\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Vacation } from \"../../models/Vacation\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport VacationComponent from \"../vacation/vacation\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\ninterface MainPageState {\r\n  vacations: Vacation[];\r\n  is_modal_open: boolean;\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n  start_date: Date;\r\n  end_date: Date;\r\n  description: string;\r\n  socket: any;\r\n  isLoaded: boolean;\r\n}\r\n\r\nexport default class MainPage extends Component<any, MainPageState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  public admin_state: string;\r\n  public vacation_under_edit: Vacation;\r\n  private errorMessage: string;\r\n  private min_date?: Date;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      vacations: [],\r\n      is_modal_open: false,\r\n      loggedInUser: store.getState().loggedInUser,\r\n      start_date: null,\r\n      end_date: null,\r\n      description: \"\",\r\n      socket: null,\r\n      isLoaded: false\r\n    };\r\n\r\n    this.admin_state = \"default\";\r\n    this.vacation_under_edit = null;\r\n    this.errorMessage = \"\";\r\n    this.min_date = new Date();\r\n    this.min_date.setDate(this.min_date.getDate() + 1);\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() => {\r\n\r\n      let loggedInUser = store.getState().loggedInUser;\r\n      this.setState({\r\n        vacations: store.getState().vacations,\r\n        loggedInUser,\r\n      })\r\n\r\n    });\r\n    let socketConn = socketIOClient(`http://${window.location.hostname}`);\r\n    this.setState({ socket: socketConn });\r\n    //Register to edit vacation event\r\n    socketConn.on(\"edit-vacation\", (editedVacation: Vacation) => {\r\n      store.dispatch({\r\n        type: ActionType.UpdateStoredVacation,\r\n        payload: editedVacation,\r\n      });\r\n    });\r\n\r\n    //Register to delete vacation event\r\n    socketConn.on(\"delete-vacation\", (id: number) => {\r\n      store.dispatch({\r\n        type: ActionType.DeleteVacation,\r\n        payload: id,\r\n      });\r\n    });\r\n\r\n    //Register to add vacation event\r\n    socketConn.on(\"add-vacation\", (vacation: Vacation) => {\r\n      store.dispatch({\r\n        type: ActionType.AddVacation,\r\n        payload: vacation,\r\n      });\r\n    });\r\n\r\n    await this.getAllVacations();\r\n  }\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The starting date selected for the vacation\r\n   */\r\n  public onStartDateSelected = (value: any) => {\r\n    const start_date = this.fixDate(value);\r\n    this.setState({ start_date });\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The ending date selected for the vacation\r\n   */\r\n  public onEndDateSelected = (value: any) => {\r\n    const end_date = this.fixDate(value);\r\n    this.setState({ end_date });\r\n  };\r\n\r\n  public fixDate(date: any) {\r\n    if (date) {\r\n      let fixedDate = date;\r\n      // Fixing some issue related to timezones\r\n      fixedDate.setMinutes(300);\r\n      return fixedDate;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private onDescriptionInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const description = args.target.value;\r\n    this.setState({ description });\r\n  };\r\n\r\n  public getAllVacations = async () => {\r\n    try {\r\n      const response = await axios.get<Vacation[]>(\r\n        `${config.server_url}/vacations/`\r\n      );\r\n\r\n      // response.data = all the vacations that were returned from the server\r\n      store.dispatch({\r\n        type: ActionType.GetAllVacations,\r\n        payload: response.data,\r\n      });\r\n      this.setState({ isLoaded: true })\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to get Vacations, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onEditVacationClicked(vacation: Vacation) {\r\n    this.setState({ is_modal_open: true });\r\n    this.admin_state = \"Editing\";\r\n    this.vacation_under_edit = vacation;\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: vacation, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onAddVacationClicked() {\r\n    this.setState({ is_modal_open: true });\r\n    this.admin_state = \"Adding\";\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: null, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.admin_state = \"default\";\r\n    this.errorMessage = \"\";\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: null, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onDeleteVacationClicked = async (id: number) => {\r\n    try {\r\n      await axios.delete<void>(`${config.server_url}/vacations/${id}`);\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to delete Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onStatisticsClicked() {\r\n    this.props.history.push(\"/adminReports\");\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  public unfollowVacation = async (vacation: Vacation) => {\r\n    try {\r\n      await axios.delete<void>(\r\n        `${config.server_url}/followers/unfollow?vacation_id=${vacation.id}`\r\n      );\r\n      vacation.is_following = false;\r\n\r\n      store.dispatch({\r\n        type: ActionType.UpdateIsFollowing,\r\n        payload: vacation,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to unfollow Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public followVacation = async (vacation: Vacation) => {\r\n    try {\r\n      await axios.post<void>(\r\n        `${config.server_url}/followers/follow?vacation_id=${vacation.id}`\r\n      );\r\n      vacation.is_following = true;\r\n\r\n      store.dispatch({\r\n        type: ActionType.UpdateIsFollowing,\r\n        payload: vacation,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to follow Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onFollowButtonClicked = async (vacation: Vacation) => {\r\n    let duplicateValue = vacation.is_following;\r\n    if (duplicateValue) {\r\n      await this.unfollowVacation(vacation);\r\n    } else if (!duplicateValue || duplicateValue === undefined) {\r\n      await this.followVacation(vacation);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    // Duplicating the data from the state\r\n    const filteredData = [...this.state.vacations]\r\n      .filter((vacation) => // Filter by Start Date\r\n        this.state.start_date\r\n          ? vacation.start_date ===\r\n          this.state.start_date.toISOString().split(\"T\")[0]\r\n          : 1\r\n      )\r\n      .filter((vacation) => // Filter by End Date\r\n        this.state.end_date\r\n          ? vacation.end_date ===\r\n          this.state.end_date?.toISOString().split(\"T\")[0]\r\n          : 1\r\n      )\r\n      .filter((vacation) => // Filter by Description\r\n        this.state.description\r\n          ? vacation.description\r\n            .toLowerCase()\r\n            .includes(this.state.description.toLowerCase())\r\n          : 1\r\n      );\r\n\r\n    return (\r\n      <div className=\"mainPage\">\r\n        <div className=\"flexDiv\">\r\n          <div className=\"searchBar\">\r\n            <span className=\"formSpan\">Search Bar:</span>\r\n            <DatePicker\r\n              selected={this.state.start_date}\r\n              onChange={(date) => {\r\n                this.onStartDateSelected(date);\r\n              }}\r\n              placeholderText=\"Start Date\"\r\n              minDate={this.min_date}\r\n              isClearable\r\n            />\r\n\r\n            <DatePicker\r\n              selected={this.state.end_date}\r\n              onChange={(date) => {\r\n                this.onEndDateSelected(date);\r\n              }}\r\n              placeholderText=\"End Date\"\r\n              minDate={this.min_date}\r\n              isClearable\r\n            />\r\n\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              name=\"description\"\r\n              value={this.state.description}\r\n              onChange={this.onDescriptionInputChanged}\r\n            />\r\n          </div>\r\n          {this.state.loggedInUser?.user_type === \"ADMIN\" && (\r\n            <div className=\"adminNavDiv\">\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className=\"statisticsButton\"\r\n                onClick={() => this.onStatisticsClicked()}\r\n              >\r\n                Statistics\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className=\"addVacationButton\"\r\n                onClick={() => this.onAddVacationClicked()}\r\n              >\r\n                Add Vacation\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {filteredData.map((vacation, index) => (\r\n          <VacationComponent\r\n            vacation={vacation}\r\n            key={index}\r\n            is_following={vacation.is_following}\r\n            onEditClicked={(vacation: Vacation) => {\r\n              this.onEditVacationClicked(vacation);\r\n            }}\r\n            onDeleteClicked={(id: number) => {\r\n              this.onDeleteVacationClicked(id);\r\n            }}\r\n            onFollowButtonClicked={(vacation: Vacation) => {\r\n              this.onFollowButtonClicked(vacation);\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {filteredData.length === 0 && this.state.isLoaded && (\r\n          <h3 className=\"headerMessage\">No Vacations Found</h3>\r\n        )}\r\n\r\n        {!this.state.isLoaded && (\r\n          <h3 className=\"headerMessage\">Loading...</h3>\r\n        )}\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            admin_state={this.admin_state}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class UserLoginDetails {\r\n  public constructor(public username?: string, public password?: string) {}\r\n}\r\n","import React, { Component, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./login.css\";\r\nimport { UserLoginDetails } from \"../../models/UserLoginDetails\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\n\r\ninterface LoginState {\r\n  username: string;\r\n  password: string;\r\n  is_modal_open: boolean;\r\n}\r\n\r\nexport default class Login extends Component<any, LoginState> {\r\n  private errorMessage: string;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      is_modal_open: false,\r\n    };\r\n\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public componentDidMount() {\r\n    store.dispatch({\r\n      type: ActionType.ChangeUserState,\r\n      payload: \"LOGIN\",\r\n    });\r\n  }\r\n\r\n  private onUsernameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const username = args.target.value;\r\n    this.setState({ username });\r\n  };\r\n\r\n  private onPasswordInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const password = args.target.value;\r\n    this.setState({ password });\r\n  };\r\n\r\n  private login = async () => {\r\n    try {\r\n      let userLoginDetails = new UserLoginDetails(\r\n        this.state.username,\r\n        this.state.password\r\n      );\r\n      const response = await axios.post<SuccessfulLoginServerResponse>(\r\n        `${config.server_url}/users/login`,\r\n        userLoginDetails\r\n      );\r\n      const serverResponse = response.data;\r\n\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        \"Bearer \" + serverResponse.token;\r\n\r\n      store.dispatch({\r\n        type: ActionType.Login,\r\n        payload: serverResponse,\r\n      });\r\n\r\n      this.props.history.push(\"/mainPage\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to log-in, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          name=\"username\"\r\n          value={this.state.username}\r\n          onChange={this.onUsernameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.onPasswordInputChanged}\r\n        />\r\n        <br />\r\n        <input type=\"button\" value=\"login\" onClick={this.login} />\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class UserRegisterDetails {\r\n  public constructor(\r\n    public firstname?: string,\r\n    public lastname?: string,\r\n    public username?: string,\r\n    public password?: string\r\n  ) {}\r\n}\r\n","import React, { Component, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./register.css\";\r\nimport { UserRegisterDetails } from \"../../models/UserRegisterDetails\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\n\r\ninterface RegisterState {\r\n  firstname: string;\r\n  lastname: string;\r\n  username: string;\r\n  password: string;\r\n  is_modal_open: boolean;\r\n}\r\n\r\nexport default class Register extends Component<any, RegisterState> {\r\n  private errorMessage: string;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      is_modal_open: false,\r\n    };\r\n\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public componentDidMount() {\r\n    store.dispatch({\r\n      type: ActionType.ChangeUserState,\r\n      payload: \"REGISTER\",\r\n    });\r\n  }\r\n\r\n  private onFirstnameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const firstname = args.target.value;\r\n    this.setState({ firstname });\r\n  };\r\n\r\n  private onLastnameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const lastname = args.target.value;\r\n    this.setState({ lastname });\r\n  };\r\n\r\n  private onUsernameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const username = args.target.value;\r\n    this.setState({ username });\r\n  };\r\n\r\n  private onPasswordInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const password = args.target.value;\r\n    this.setState({ password });\r\n  };\r\n\r\n  private register = async () => {\r\n    try {\r\n      let userRegisterDetails = new UserRegisterDetails(\r\n        this.state.firstname,\r\n        this.state.lastname,\r\n        this.state.username,\r\n        this.state.password\r\n      );\r\n      const response = await axios.post<SuccessfulLoginServerResponse>(\r\n        `${config.server_url}/users/`,\r\n        userRegisterDetails\r\n      );\r\n      const serverResponse = response.data;\r\n\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        \"Bearer \" + serverResponse.token;\r\n\r\n      // Automatically connecting the user to the site on success\r\n      store.dispatch({\r\n        type: ActionType.Login,\r\n        payload: serverResponse,\r\n      });\r\n\r\n      this.props.history.push(\"/mainPage\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to register, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  /**\r\n   * Validates that the text inputs  meet the requirements and setting an error message accordingly\r\n   */\r\n  public isFormValid = () => {\r\n    let { firstname, lastname, username, password } = this.state;\r\n\r\n    if (firstname.trim().length < 3 || firstname.trim().length > 20) {\r\n      this.errorMessage = \"Firstname must contain between 3 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (lastname.trim().length < 3 || lastname.trim().length > 20) {\r\n      this.errorMessage = \"Lastname must contain between 3 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (username.trim().length < 4 || username.trim().length > 16) {\r\n      this.errorMessage = \"Username must contain between 4 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (password.trim().length < 4 || password.trim().length > 16) {\r\n      this.errorMessage = \"Password must contain between 4 - 16 letters\";\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"register\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Firstname\"\r\n          name=\"firstname\"\r\n          value={this.state.firstname}\r\n          onChange={this.onFirstnameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Lastname\"\r\n          name=\"lastname\"\r\n          value={this.state.lastname}\r\n          onChange={this.onLastnameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"User name\"\r\n          name=\"username\"\r\n          value={this.state.username}\r\n          onChange={this.onUsernameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.onPasswordInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"button\"\r\n          value=\"login\"\r\n          disabled={!this.isFormValid()}\r\n          onClick={this.register}\r\n        />\r\n\r\n        {!this.isFormValid() && (\r\n          <div className=\"alertMessage\">\r\n            <span>{this.errorMessage}</span>\r\n          </div>\r\n        )}\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Bar } from 'react-chartjs-2';\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { FollowersData } from \"../../models/FollowersData\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport \"./graph.css\";\r\n\r\ninterface GraphState {\r\n  data: object,\r\n  is_modal_open: boolean\r\n}\r\n\r\nexport default class Graph extends Component<any, GraphState> {\r\n  public errorMessage: string;\r\n  public options: object;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      data: null,\r\n      is_modal_open: false\r\n    };\r\n\r\n    this.options = {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n            stepSize: 1\r\n          }\r\n        }]\r\n      },\r\n    }\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n\r\n  public async componentDidMount() {\r\n    await this.getAllFollowersData();\r\n  }\r\n\r\n  public getAllFollowersData = async () => {\r\n    try {\r\n      const response = await axios.get<FollowersData[]>(\r\n        `${config.server_url}/followers/`\r\n      );\r\n      this.displayData(response.data)\r\n\r\n    } catch (error) {\r\n      this.errorMessage = \"Failed to get Vacations, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public displayData(followersData: FollowersData[]) {\r\n    let labels: any = [];\r\n    let dataArray: any = [];\r\n\r\n    for (let prop in followersData) {\r\n      if (Object.prototype.hasOwnProperty.call(followersData, prop)) {\r\n        labels[prop] = (`Vacation #${followersData[prop].vacation_id}`);\r\n        dataArray[prop] = (followersData[prop].total_followers);\r\n      }\r\n    }\r\n    const data = {\r\n      labels: [...labels],\r\n      datasets: [\r\n        {\r\n          label: 'Amount of Followers',\r\n          backgroundColor: 'rgba(255,99,132,0.2)',\r\n          borderColor: 'rgba(255,99,132,1)',\r\n          borderWidth: 1,\r\n          hoverBackgroundColor: 'rgba(255,99,132,0.4)',\r\n          hoverBorderColor: 'rgba(255,99,132,1)',\r\n          data: [...dataArray]\r\n        }\r\n      ]\r\n    }\r\n    this.setState({ data })\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public onGoBackButtonClicked() {\r\n    this.props.history.push(\"/mainPage\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"graphContainer\">\r\n        <div>\r\n          <h2>Admin Reports</h2>\r\n          <button className=\"btn btn-primary\" onClick={() => this.onGoBackButtonClicked()}>Go Back</button>\r\n        </div>\r\n        {this.state.data &&\r\n          <Bar\r\n            data={this.state.data}\r\n            width={100}\r\n            height={500}\r\n            options={this.options}\r\n          />\r\n        }\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route, BrowserRouter, Redirect } from \"react-router-dom\";\r\nimport \"./layout.css\";\r\nimport Header from \"../header/header\";\r\nimport Footer from \"../footer/footer\";\r\nimport MainPage from \"../main-page/main-page\";\r\nimport Login from \"../login/login\";\r\nimport Register from \"../register/register\";\r\nimport Graph from \"../graph/graph\";\r\n\r\nexport default class Layout extends Component {\r\n  public render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <section className=\"layout\">\r\n          <header>\r\n            <Header />\r\n          </header>\r\n\r\n          <main>\r\n            <Switch>\r\n              <Route path=\"/mainPage\" component={MainPage} exact />\r\n              <Route path=\"/login\" component={Login} exact />\r\n              <Route path=\"/register\" component={Register} exact />\r\n              <Route path=\"/adminReports\" component={Graph} exact />\r\n              <Redirect from=\"/\" to=\"/login\" exact />\r\n              <Redirect from=\"**\" to=\"/login\" exact />\r\n            </Switch>\r\n          </main>\r\n\r\n          <footer>\r\n            <Footer />\r\n          </footer>\r\n        </section>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Layout from \"./components/layout/layout\";\n\nReactDOM.render(\n  <React.Fragment>\n    <link\n      rel=\"stylesheet\"\n      href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"\n    ></link>\n    <link\n      href=\"https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css\"\n      rel=\"stylesheet\"\n    ></link>\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js\"></script>\n    <Layout />\n  </React.Fragment>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
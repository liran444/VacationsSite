{"version":3,"sources":["config.js","serviceWorker.ts","redux/action-type.ts","redux/app-state.ts","redux/store.ts","redux/reducer.ts","components/header/header.tsx","components/footer/footer.tsx","components/select/select.tsx","models/Vacation.ts","components/vacation-form/vacation-form.tsx","components/dialog/dialog.tsx","components/vacation/vacation.tsx","components/main-page/main-page.tsx","models/UserLoginDetails.ts","components/login/login.tsx","models/UserRegisterDetails.ts","components/register/register.tsx","components/graph/graph.tsx","components/layout/layout.tsx","index.tsx"],"names":["module","exports","server_url","window","location","hostname","Boolean","match","ActionType","store","createStore","oldAppState","action","newAppState","type","ChangeUserState","user_state","payload","GetAllVacations","vacations","DeleteVacation","filter","item","id","Login","loggedInUser","AddVacation","push","GetAllDestinations","destinations","ChangeAdminState","admin_state","StoreVacationUnderEdit","vacation_under_edit","vacation","UpdateStoredVacation","find","element","image_file_name","description","destination","destination_id","price","start_date","end_date","UpdateIsFollowing","is_following","GetUserDataFromSessionStorage","JSON","parse","sessionStorage","getItem","axios","defaults","headers","common","token","Header","prop","unsubscribeStore","logout","removeItem","dispatch","state","email","phone","this","subscribe","setState","getState","className","firstname","to","exact","onClick","Component","Footer","owner","currentYear","Date","getFullYear","SelectComponent","props","name","onChange","onOptionSelected","value","selected","stringify","disabled","key","placeholder","options","map","option","index","Vacation","image_file","VacationForm","min_date","errorMessage","fileInput","initState","chosen_destination","initDates","two_days_from_now","setDate","getDate","getAllDestinations","a","length","get","config","response","data","console","log","is_modal_open","onStartDateSelected","onEndDateSelected","onDestinationSelectedHandler","args","target","areChosenDatesValid","onDescriptionChanged","onPriceChanged","addVacation","addVacationDetails","toISOString","split","post","onClose","editVacation","editedVacation","put","onFormSubmitted","event","preventDefault","areTextInputsValid","text_length","trim","isNaN","isFormValid","isVacationImageValid","uploadImage","image","myFormData","FormData","append","uuidFileName","setImage","files","reader","FileReader","onload","preview","result","toString","readAsDataURL","onSubmit","accept","ref","fi","click","src","date","selectsStart","startDate","minDate","endDate","selectsEnd","open","onModalClosed","ResponsiveDialog","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogActions","Button","autoFocus","color","VacationComponent","Card","CardMedia","title","CardContent","user_type","IconButton","aria-label","onEditClicked","onDeleteClicked","Typography","gutterBottom","variant","component","CardActions","size","onFollowButtonClicked","MainPage","fixDate","onDescriptionInputChanged","getAllVacations","onDeleteVacationClicked","delete","unfollowVacation","followVacation","duplicateValue","undefined","socket","socketConn","socketIOClient","on","fixedDate","setMinutes","history","filteredData","toLowerCase","includes","placeholderText","isClearable","onStatisticsClicked","onAddVacationClicked","onEditVacationClicked","UserLoginDetails","username","password","onUsernameInputChanged","onPasswordInputChanged","login","userLoginDetails","serverResponse","setItem","UserRegisterDetails","lastname","Register","onFirstnameInputChanged","onLastnameInputChanged","register","userRegisterDetails","Graph","getAllFollowersData","displayData","maintainAspectRatio","scales","yAxes","ticks","min","stepSize","followersData","labels","dataArray","Object","prototype","hasOwnProperty","call","vacation_id","total_followers","datasets","label","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","onGoBackButtonClicked","width","height","Layout","path","from","ReactDOM","render","Fragment","rel","href","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a45f8737.chunk.js","sourcesContent":["module.exports = {\r\n  server_url: `http://${window.location.hostname}`,\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export enum ActionType {\r\n  GetAllVacations,\r\n  Login,\r\n  AddVacation,\r\n  GetUserDataFromSessionStorage,\r\n  GetAllDestinations,\r\n  ChangeAdminState,\r\n  StoreVacationUnderEdit,\r\n  UpdateStoredVacation,\r\n  UpdateIsFollowing,\r\n  ChangeUserState,\r\n  DeleteVacation\r\n}\r\n","import { Vacation } from \"../models/Vacation\";\r\nimport { SuccessfulLoginServerResponse } from \"../models/SuccessfulLoginServerResponse\";\r\nimport { Destination } from \"../models/Destination\";\r\n\r\nexport class AppState {\r\n  public vacations: Vacation[] = [];\r\n  public destinations: Destination[] = [];\r\n  public loggedInUser: SuccessfulLoginServerResponse = {};\r\n  public admin_state: string = \"default\";\r\n  public vacation_under_edit: Vacation = {};\r\n  public user_state: string = \"default\";\r\n}\r\n","import { createStore } from \"redux\";\r\nimport { reduce } from \"./reducer\";\r\nimport { AppState } from \"./app-state\";\r\n\r\nexport const store = createStore(reduce, new AppState());\r\n","import { AppState } from \"./app-state\";\r\nimport { ActionType } from \"./action-type\";\r\nimport { Action } from \"./action\";\r\nimport axios from \"axios\";\r\n\r\n// This function is NOT called directly by you\r\nexport function reduce(oldAppState: AppState, action: Action): AppState {\r\n  // Cloning the oldState (creating a copy)\r\n  const newAppState = { ...oldAppState };\r\n\r\n  switch (action.type) {\r\n    case ActionType.ChangeUserState:\r\n      newAppState.user_state = action.payload;\r\n      break;\r\n    case ActionType.GetAllVacations:\r\n      newAppState.vacations = action.payload;\r\n      break;\r\n    case ActionType.DeleteVacation:\r\n      newAppState.vacations = newAppState.vacations.filter((item) => item.id != action.payload);\r\n      break;\r\n    case ActionType.Login:\r\n      newAppState.loggedInUser = action.payload;\r\n      break;\r\n    case ActionType.AddVacation:\r\n      newAppState.vacations.push(action.payload);\r\n      break;\r\n    case ActionType.GetAllDestinations:\r\n      newAppState.destinations = action.payload;\r\n      break;\r\n    case ActionType.ChangeAdminState:\r\n      newAppState.admin_state = action.payload;\r\n      break;\r\n    case ActionType.StoreVacationUnderEdit:\r\n      newAppState.vacation_under_edit = action.payload.vacation;\r\n      newAppState.admin_state = action.payload.admin_state;\r\n      break;\r\n    case ActionType.UpdateStoredVacation:\r\n      newAppState.vacations.find((element) => {\r\n\r\n        if (element.id === action.payload.id) {\r\n          element.image_file_name = action.payload.image_file_name;\r\n          element.description = action.payload.description;\r\n          element.destination = action.payload.destination;\r\n          element.destination_id = action.payload.destination_id;\r\n          element.price = action.payload.price;\r\n          element.start_date = action.payload.start_date;\r\n          element.end_date = action.payload.end_date;\r\n          return element;\r\n        }\r\n\r\n      });\r\n      break;\r\n    case ActionType.UpdateIsFollowing:\r\n      newAppState.vacations.find((element) => {\r\n        if (element.id === action.payload.id) {\r\n          element.is_following = action.payload.is_following;\r\n        }\r\n        return element;\r\n      });\r\n      break;\r\n    case ActionType.GetUserDataFromSessionStorage:\r\n      newAppState.loggedInUser = JSON.parse(\r\n        sessionStorage.getItem(\"user_data\")\r\n      );\r\n\r\n      if (newAppState.loggedInUser) {\r\n        axios.defaults.headers.common[\"Authorization\"] =\r\n          \"Bearer \" + newAppState.loggedInUser.token;\r\n      }\r\n      break;\r\n  }\r\n\r\n  // After returning the new state, it's being published to all subscribers\r\n  // Each component will render itself based on the new state\r\n  return newAppState;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./header.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\n\r\ninterface HeaderState {\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n  user_state: string;\r\n}\r\n\r\nexport default class Header extends Component<any, HeaderState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  public store: { phone: string; email: string };\r\n\r\n  constructor(prop: any) {\r\n    super(prop);\r\n    this.state = { loggedInUser: null, user_state: \"default\" };\r\n\r\n    this.store = {\r\n      email: \"vacations4u.email.com\",\r\n      phone: \"+972-50-455-0188\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() =>\r\n      this.setState({\r\n        loggedInUser: store.getState().loggedInUser,\r\n        user_state: store.getState().user_state,\r\n      })\r\n    );\r\n\r\n    store.dispatch({\r\n      type: ActionType.GetUserDataFromSessionStorage,\r\n      payload: null,\r\n    });\r\n  }\r\n\r\n  private logout = () => {\r\n    sessionStorage.removeItem(\"user_data\");\r\n\r\n    store.dispatch({\r\n      type: ActionType.Login,\r\n      payload: null,\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  // public componentDidMount() {\r\n  //   store.dispatch({\r\n  //     type: ActionType.ChangeUserState,\r\n  //     payload: \"LOGIN\",\r\n  //   });\r\n  // }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-inverse navbar-fixed-top\">\r\n          <div className=\"container-fluid\">\r\n            <div className=\"navbar-header\">\r\n              <span id=\"profile\">\r\n                Welcome {this.state.loggedInUser?.firstname} to Vacations4U!\r\n              </span>\r\n              {this.state.loggedInUser !== null && (\r\n                <NavLink\r\n                  to=\"/login\"\r\n                  exact\r\n                  onClick={this.logout}\r\n                  className=\"btn btn-danger headerButton\"\r\n                >\r\n                  Log-out\r\n                </NavLink>\r\n              )}\r\n              {!this.state.loggedInUser &&\r\n                this.state.user_state === \"REGISTER\" && (\r\n                  <NavLink\r\n                    to=\"/login\"\r\n                    exact\r\n                    className=\"btn btn-primary headerButton\"\r\n                  >\r\n                    Login\r\n                  </NavLink>\r\n                )}\r\n\r\n              {!this.state.loggedInUser && this.state.user_state === \"LOGIN\" && (\r\n                <NavLink\r\n                  to=\"/register\"\r\n                  exact\r\n                  className=\"btn btn-primary headerButton\"\r\n                >\r\n                  Register\r\n                </NavLink>\r\n              )}\r\n            </div>\r\n            <div className=\"topRightCornerDiv\">\r\n              <div className=\"float-right contactUsDiv\">\r\n                <p className=\"infoText\">\r\n                  Contact Us:{\" \"}\r\n                  <span>\r\n                    {\" \"}\r\n                    {this.store.phone} - {this.store.email}{\" \"}\r\n                  </span>\r\n                </p>\r\n              </div>\r\n              <div id=\"myNavbar\">\r\n                <ul className=\"nav navbar-nav navbar-right navbarUl\"></ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./footer.css\";\r\n\r\nexport default class Footer extends Component {\r\n  public owner: string = \"Liran Dekamhi\";\r\n  public currentYear: number = new Date().getFullYear();\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <p className=\"footer\">\r\n          &copy; Copyrights reservered to {this.owner} - {this.currentYear}\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./select.css\";\r\n\r\nexport default class SelectComponent extends Component<any> {\r\n  public constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <select\r\n          name={this.props.name}\r\n          onChange={this.props.onOptionSelected}\r\n          value={\r\n            this.props.selected?.id\r\n              ? JSON.stringify(this.props.selected)\r\n              : \"default\"\r\n          }\r\n        >\r\n          <option disabled value=\"default\" key=\"default\">\r\n            {this.props.placeholder}\r\n          </option>\r\n\r\n          {/* Iterating through an array of options and assigning as a value for each option \r\n          a Stringified JSON object */}\r\n          {this.props.options.map((option: any, index: any) => (\r\n            <option value={JSON.stringify(option)} key={index}>\r\n              {option.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class Vacation {\r\n  public constructor(\r\n    public id?: number,\r\n    public destination_id?: number,\r\n    public destination?: string,\r\n    public description?: string,\r\n    public start_date?: string,\r\n    public end_date?: string,\r\n    public price?: number,\r\n    public image_file_name?: string,\r\n    public image_file?: File,\r\n    public is_following?: boolean\r\n  ) {}\r\n}\r\n","import React, { Component, ChangeEvent, FormEvent } from \"react\";\r\nimport \"./vacation-form.css\";\r\nimport axios from \"axios\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Destination } from \"../../models/Destination\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport config from \"../../config\";\r\nimport SelectComponent from \"../select/select\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { Vacation } from \"../../models/Vacation\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport FormData from \"form-data\";\r\n\r\ninterface VacationFormState {\r\n  admin_state: string;\r\n  vacation_under_edit: Vacation;\r\n  destinations: Destination[];\r\n  chosen_destination: Destination;\r\n  description: string;\r\n  start_date: Date;\r\n  end_date: Date;\r\n  price: number;\r\n  is_modal_open: boolean;\r\n  preview: string;\r\n}\r\n\r\nexport default class VacationForm extends Component<any, VacationFormState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  private min_date?: Date;\r\n  private errorMessage?: string;\r\n  private fileInput: HTMLInputElement;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      admin_state: \"default\",\r\n      vacation_under_edit: store.getState().vacation_under_edit,\r\n      destinations: [],\r\n      chosen_destination: null,\r\n      description: \"\",\r\n      start_date: null,\r\n      end_date: null,\r\n      price: null,\r\n      is_modal_open: false,\r\n      preview: \"\",\r\n    };\r\n\r\n    this.min_date = new Date();\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() =>\r\n      this.setState({\r\n        destinations: store.getState().destinations,\r\n        vacation_under_edit: store.getState().vacation_under_edit,\r\n        admin_state: store.getState().admin_state,\r\n      })\r\n    );\r\n    if (store.getState().vacation_under_edit !== null) {\r\n      this.initState();\r\n    } else {\r\n      this.initDates();\r\n    }\r\n\r\n    this.setState({\r\n      admin_state: store.getState().admin_state,\r\n    });\r\n    await this.getAllDestinations();\r\n  }\r\n\r\n  public initState = () => {\r\n    this.setState({\r\n      chosen_destination: {\r\n        id: store.getState().vacation_under_edit?.destination_id,\r\n        name: store.getState().vacation_under_edit?.destination,\r\n      },\r\n      start_date: new Date(store.getState().vacation_under_edit?.start_date),\r\n      end_date: new Date(store.getState().vacation_under_edit?.end_date),\r\n      description: store.getState().vacation_under_edit?.description,\r\n      price: store.getState().vacation_under_edit?.price,\r\n    });\r\n  };\r\n\r\n  public initDates = () => {\r\n    let two_days_from_now = new Date();\r\n    this.min_date.setDate(this.min_date.getDate() + 1);\r\n    two_days_from_now.setDate(two_days_from_now.getDate() + 2);\r\n\r\n    this.setState({ start_date: this.min_date });\r\n    this.setState({ end_date: two_days_from_now });\r\n  };\r\n\r\n  public getAllDestinations = async () => {\r\n    if (store.getState().destinations.length === 0) {\r\n      try {\r\n        const response = await axios.get<Destination[]>(\r\n          `${config.server_url}/destinations/`\r\n        );\r\n\r\n        store.dispatch({\r\n          type: ActionType.GetAllDestinations,\r\n          payload: response.data,\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.errorMessage =\r\n          \"Failed to get Destinations, \" + error.response.data;\r\n        this.setState({ is_modal_open: true });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        destinations: store.getState().destinations,\r\n      });\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The starting date selected for the vacation\r\n   */\r\n  public onStartDateSelected = (value: any) => {\r\n    const start_date = value;\r\n    this.setState({ start_date });\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The ending date selected for the vacation\r\n   */\r\n  public onEndDateSelected = (value: any) => {\r\n    const end_date = value;\r\n    this.setState({ end_date });\r\n  };\r\n\r\n  public onDestinationSelectedHandler = (\r\n    args: ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    const chosen_destination = JSON.parse(args.target.value);\r\n    this.setState({ chosen_destination });\r\n  };\r\n\r\n  public areChosenDatesValid = () => {\r\n    let { start_date, end_date } = this.state;\r\n    if (new Date(start_date) < new Date(end_date)) {\r\n      return true;\r\n    }\r\n\r\n    this.errorMessage =\r\n      \"The ending date must be greater than the starting date\";\r\n    return false;\r\n  };\r\n\r\n  private onDescriptionChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const description = args.target.value;\r\n    this.setState({ description });\r\n  };\r\n\r\n  private onPriceChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const price = +args.target.value;\r\n    this.setState({ price });\r\n  };\r\n\r\n  public addVacation = async () => {\r\n    try {\r\n      let addVacationDetails = new Vacation(\r\n        null,\r\n        this.state.chosen_destination.id,\r\n        this.state.chosen_destination.name,\r\n        this.state.description,\r\n        this.state.start_date.toISOString().split(\"T\")[0],\r\n        this.state.end_date.toISOString().split(\"T\")[0],\r\n        this.state.price,\r\n        this.state.vacation_under_edit.image_file_name\r\n      );\r\n\r\n      await axios.post<Vacation>(\r\n        `${config.server_url}/vacations/`,\r\n        addVacationDetails\r\n      );\r\n\r\n      this.props.onClose();\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to add Vacation, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public editVacation = async () => {\r\n    try {\r\n      let editedVacation = new Vacation(\r\n        this.state.vacation_under_edit.id,\r\n        this.state.chosen_destination.id,\r\n        this.state.chosen_destination.name,\r\n        this.state.description,\r\n        this.state.start_date.toISOString().split(\"T\")[0],\r\n        this.state.end_date.toISOString().split(\"T\")[0],\r\n        this.state.price,\r\n        this.state.vacation_under_edit.image_file_name\r\n      );\r\n\r\n      await axios.put<Vacation>(\r\n        `${config.server_url}/vacations/`,\r\n        editedVacation\r\n      );\r\n\r\n      this.props.onClose();\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to edit Vacation, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onFormSubmitted = async (event: FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    if (this.state.admin_state === \"Adding\") {\r\n      await this.addVacation();\r\n    }\r\n    if (this.state.admin_state === \"Editing\") {\r\n      await this.editVacation();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Validates that the text inputs  meet the requirements and setting an error message accordingly\r\n   */\r\n  public areTextInputsValid = () => {\r\n    let { description, price } = this.state;\r\n    let text_length = description.trim().length;\r\n\r\n    if (text_length < 4 || text_length > 45) {\r\n      this.errorMessage = \"Description must contain between 4 - 45 letters\";\r\n      return false;\r\n    }\r\n    if (isNaN(price) || price < 100) {\r\n      this.errorMessage = \"Price must be 100$ or greater\";\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  public isVacationImageValid() {\r\n    if (this.state.vacation_under_edit?.image_file_name) {\r\n      return true;\r\n    }\r\n\r\n    this.errorMessage = \"Please Select Image\";\r\n    return false;\r\n  }\r\n\r\n  public isFormValid = () => {\r\n    if (\r\n      this.areChosenDatesValid() &&\r\n      this.areTextInputsValid() &&\r\n      this.isVacationImageValid()\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public uploadImage = async (image: File) => {\r\n    try {\r\n      const myFormData = new FormData();\r\n      myFormData.append(\"image\", image, image.name);\r\n\r\n      const response = await axios.post<Vacation>(\r\n        `${config.server_url}/vacations/upload_image_file/`,\r\n        myFormData\r\n      );\r\n\r\n      let uuidFileName = response.data;\r\n\r\n      return uuidFileName;\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to upload image, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  private setImage = async (args: ChangeEvent<HTMLInputElement>) => {\r\n    // Extracting the selected file date (textual info)\r\n    const image = args.target.files[0];\r\n\r\n    let uuidFileName = await this.uploadImage(image);\r\n    if (uuidFileName) {\r\n      // Cloning vacation\r\n      const vacation_under_edit = { ...this.state.vacation_under_edit };\r\n\r\n      // Adding the image to the cloned vacation object\r\n      vacation_under_edit.image_file = image;\r\n      vacation_under_edit.image_file_name = \"\" + uuidFileName;\r\n\r\n      // Updating the state\r\n      this.setState({ vacation_under_edit });\r\n\r\n      // Display image on client:\r\n      var reader = new FileReader();\r\n\r\n      // Initializing the \"onload\" event of the reader object\r\n      // Meaning : AFTER the picture is selected, the preview field\r\n      // will be refreshed, and will display the picture\r\n      reader.onload = (event) =>\r\n        this.setState({ preview: event.target.result.toString() });\r\n\r\n      // Read the file data (image binary), into the image field\r\n      reader.readAsDataURL(image);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"vacation-form\">\r\n        <form\r\n          className=\"vacation-form\"\r\n          onSubmit={(event) => {\r\n            this.onFormSubmitted(event);\r\n          }}\r\n        >\r\n          <div>\r\n            <SelectComponent\r\n              name=\"groupsSelectBox\"\r\n              placeholder=\"-- Select Destination --\"\r\n              options={this.state.destinations}\r\n              selected={this.state.chosen_destination}\r\n              onOptionSelected={(event: any) => {\r\n                this.onDestinationSelectedHandler(event);\r\n              }}\r\n            />\r\n\r\n            {this.state.chosen_destination?.id && (\r\n              <div>\r\n                <input\r\n                  className=\"uploadInput\"\r\n                  type=\"file\"\r\n                  onChange={this.setImage}\r\n                  accept=\"image/*\"\r\n                  ref={(fi) => (this.fileInput = fi)}\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"uploadButton\"\r\n                  onClick={() => this.fileInput.click()}\r\n                >\r\n                  Select Vacation Image\r\n                </button>\r\n                <br />\r\n                <br />\r\n\r\n                <img\r\n                  src={\r\n                    this.state.vacation_under_edit?.image_file_name\r\n                      ? `${config.server_url}/uploads/${this.state.vacation_under_edit.image_file_name}`\r\n                      : this.state.preview\r\n                  }\r\n                />\r\n\r\n                <span className=\"formSpan descriptionSpan\">Description:</span>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"* Enter Description...\"\r\n                  name=\"description\"\r\n                  value={this.state.description}\r\n                  onChange={this.onDescriptionChanged}\r\n                />\r\n\r\n                <span className=\"formSpan\">Start Date:</span>\r\n                <DatePicker\r\n                  selected={this.state.start_date}\r\n                  onChange={(date) => {\r\n                    this.onStartDateSelected(date);\r\n                  }}\r\n                  selectsStart\r\n                  startDate={this.state.start_date}\r\n                  minDate={this.min_date}\r\n                  endDate={this.state.end_date}\r\n                />\r\n\r\n                <span className=\"formSpan\">End Date:</span>\r\n                <DatePicker\r\n                  selected={this.state.end_date}\r\n                  onChange={(date) => {\r\n                    this.onEndDateSelected(date);\r\n                  }}\r\n                  selectsEnd\r\n                  startDate={this.state.start_date}\r\n                  minDate={this.min_date}\r\n                  endDate={this.state.end_date}\r\n                />\r\n\r\n                <span className=\"formSpan\">Total Price:</span>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"* Enter Price\"\r\n                  name=\"price\"\r\n                  value={this.state.price || \"\"}\r\n                  onChange={this.onPriceChanged}\r\n                />\r\n\r\n                {!this.isFormValid() && (\r\n                  <div className=\"alertMessage\">\r\n                    <span>{this.errorMessage}</span>\r\n                  </div>\r\n                )}\r\n\r\n                {this.isFormValid() && (\r\n                  <div className=\"center\">\r\n                    <input type=\"submit\" className=\"submitButton\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </form>\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport VacationForm from \"../vacation-form/vacation-form\";\r\n\r\ninterface DialogState {\r\n  open: boolean;\r\n}\r\n\r\nexport default class ResponsiveDialog extends Component<any, DialogState> {\r\n  public constructor(props: any) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.props.open}\r\n          onClose={() => this.props.onClose()}\r\n          aria-labelledby=\"responsive-dialog-title\"\r\n        >\r\n          <DialogTitle\r\n            id=\"responsive-dialog-title\"\r\n            className=\"formHeader addVacation\"\r\n          >\r\n            {this.props.errorMessage\r\n              ? \"Error!\"\r\n              : this.props.admin_state + \" A Vacation\"}\r\n            <hr />\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {this.props.errorMessage ? (\r\n              this.props.errorMessage\r\n            ) : (\r\n                <VacationForm onClose={() => this.props.onClose()} />\r\n              )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              autoFocus\r\n              onClick={() => this.props.onClose()}\r\n              color=\"primary\"\r\n            >\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./vacation.css\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { store } from \"../../redux/store\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport config from \"../../config\";\r\n\r\ninterface VacationState {\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n}\r\n\r\nexport default class VacationComponent extends Component<any, VacationState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      loggedInUser: store.getState().loggedInUser,\r\n    };\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    // this.unsubscribeStore = store.subscribe(() =>\r\n    //   this.setState({\r\n    //     loggedInUser: store.getState().loggedInUser,\r\n    //   })\r\n    // );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // this.unsubscribeStore();\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"vacation\">\r\n        <Card className=\"root\">\r\n          <CardMedia\r\n            className=\"media\"\r\n            image={\r\n              config.server_url +\r\n              \"/uploads/\" +\r\n              this.props.vacation.image_file_name\r\n            }\r\n            title={this.props.vacation.destination}\r\n          />\r\n          <CardContent>\r\n            {this.state.loggedInUser?.user_type === \"ADMIN\" && (\r\n              <div>\r\n                <IconButton\r\n                  aria-label=\"edit\"\r\n                  color=\"primary\"\r\n                  onClick={() => this.props.onEditClicked(this.props.vacation)}\r\n                >\r\n                  <EditIcon />\r\n                </IconButton>\r\n\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  onClick={() =>\r\n                    this.props.onDeleteClicked(this.props.vacation.id)\r\n                  }\r\n                >\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </div>\r\n            )}\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              {this.props.vacation.destination}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"p\"\r\n              className=\"description\"\r\n            >\r\n              {this.props.vacation.description}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body2\"\r\n              color=\"textSecondary\"\r\n              component=\"span\"\r\n              className=\"description\"\r\n            >\r\n              Only {this.props.vacation.price}$\r\n            </Typography>\r\n          </CardContent>\r\n          <CardActions className=\"d-flex\">\r\n            {this.state.loggedInUser?.user_type !== \"ADMIN\" && (\r\n              <Button\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  this.props.onFollowButtonClicked(this.props.vacation);\r\n                }}\r\n              >\r\n                {this.props.vacation.is_following ? \"Unfollow\" : \"Follow\"}\r\n              </Button>\r\n            )}\r\n\r\n            <div className=\"ml-auto p-2\">\r\n              <span className=\"startDate\">\r\n                {this.props.vacation.start_date} -{\" \"}\r\n              </span>\r\n              <span className=\"endDate\">{this.props.vacation.end_date}</span>\r\n            </div>\r\n          </CardActions>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { ChangeEvent, Component } from \"react\";\r\nimport \"./main-page.css\";\r\nimport axios from \"axios\";\r\nimport { store } from \"../../redux/store\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Vacation } from \"../../models/Vacation\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport VacationComponent from \"../vacation/vacation\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\ninterface MainPageState {\r\n  vacations: Vacation[];\r\n  is_modal_open: boolean;\r\n  loggedInUser: SuccessfulLoginServerResponse;\r\n  start_date: Date;\r\n  end_date: Date;\r\n  description: string;\r\n  socket: any;\r\n}\r\n\r\nexport default class MainPage extends Component<any, MainPageState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n  public admin_state: string;\r\n  public vacation_under_edit: Vacation;\r\n  private errorMessage: string;\r\n  private min_date?: Date;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      vacations: [],\r\n      is_modal_open: false,\r\n      loggedInUser: store.getState().loggedInUser,\r\n      start_date: null,\r\n      end_date: null,\r\n      description: \"\",\r\n      socket: null\r\n    };\r\n\r\n    this.admin_state = \"default\";\r\n    this.vacation_under_edit = null;\r\n    this.errorMessage = \"\";\r\n    this.min_date = new Date();\r\n    this.min_date.setDate(this.min_date.getDate() + 1);\r\n  }\r\n\r\n  public async componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() => {\r\n\r\n      let loggedInUser = store.getState().loggedInUser;\r\n      this.setState({\r\n        vacations: store.getState().vacations,\r\n        loggedInUser,\r\n      })\r\n\r\n    });\r\n    let socketConn = socketIOClient(`http://${window.location.hostname}`);\r\n    this.setState({ socket: socketConn });\r\n    //Register to edit vacation event\r\n    socketConn.on(\"edit-vacation\", (editedVacation: Vacation) => {\r\n      store.dispatch({\r\n        type: ActionType.UpdateStoredVacation,\r\n        payload: editedVacation,\r\n      });\r\n    });\r\n\r\n    //Register to delete vacation event\r\n    socketConn.on(\"delete-vacation\", (id: number) => {\r\n      store.dispatch({\r\n        type: ActionType.DeleteVacation,\r\n        payload: id,\r\n      });\r\n    });\r\n\r\n    //Register to add vacation event\r\n    socketConn.on(\"add-vacation\", (vacation: Vacation) => {\r\n      store.dispatch({\r\n        type: ActionType.AddVacation,\r\n        payload: vacation,\r\n      });\r\n    });\r\n\r\n    await this.getAllVacations();\r\n  }\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The starting date selected for the vacation\r\n   */\r\n  public onStartDateSelected = (value: any) => {\r\n    const start_date = this.fixDate(value);\r\n    this.setState({ start_date });\r\n  };\r\n\r\n  /**\r\n   * Handles the selection of starting date and updates the state\r\n   * @param value - The ending date selected for the vacation\r\n   */\r\n  public onEndDateSelected = (value: any) => {\r\n    const end_date = this.fixDate(value);\r\n    this.setState({ end_date });\r\n  };\r\n\r\n  public fixDate(date: any) {\r\n    if (date) {\r\n      let fixedDate = date;\r\n      // Fixing some issue related to timezones\r\n      fixedDate.setMinutes(300);\r\n      return fixedDate;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private onDescriptionInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const description = args.target.value;\r\n    this.setState({ description });\r\n  };\r\n\r\n  public getAllVacations = async () => {\r\n    try {\r\n      const response = await axios.get<Vacation[]>(\r\n        `${config.server_url}/vacations/`\r\n      );\r\n\r\n      // response.data = all the vacations that were returned from the server\r\n      store.dispatch({\r\n        type: ActionType.GetAllVacations,\r\n        payload: response.data,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to get Vacations, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onEditVacationClicked(vacation: Vacation) {\r\n    this.setState({ is_modal_open: true });\r\n    this.admin_state = \"Editing\";\r\n    this.vacation_under_edit = vacation;\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: vacation, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onAddVacationClicked() {\r\n    this.setState({ is_modal_open: true });\r\n    this.admin_state = \"Adding\";\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: null, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.admin_state = \"default\";\r\n    this.errorMessage = \"\";\r\n\r\n    store.dispatch({\r\n      type: ActionType.StoreVacationUnderEdit,\r\n      payload: { vacation: null, admin_state: this.admin_state },\r\n    });\r\n  }\r\n\r\n  public onDeleteVacationClicked = async (id: number) => {\r\n    try {\r\n      await axios.delete<void>(`${config.server_url}/vacations/${id}`);\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to delete Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onStatisticsClicked() {\r\n    this.props.history.push(\"/adminReports\");\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  public unfollowVacation = async (vacation: Vacation) => {\r\n    try {\r\n      await axios.delete<void>(\r\n        `${config.server_url}/followers/unfollow?vacation_id=${vacation.id}`\r\n      );\r\n      vacation.is_following = false;\r\n\r\n      store.dispatch({\r\n        type: ActionType.UpdateIsFollowing,\r\n        payload: vacation,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to unfollow Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public followVacation = async (vacation: Vacation) => {\r\n    try {\r\n      await axios.post<void>(\r\n        `${config.server_url}/followers/follow?vacation_id=${vacation.id}`\r\n      );\r\n      vacation.is_following = true;\r\n\r\n      store.dispatch({\r\n        type: ActionType.UpdateIsFollowing,\r\n        payload: vacation,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to follow Vacation, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onFollowButtonClicked = async (vacation: Vacation) => {\r\n    let duplicateValue = vacation.is_following;\r\n    if (duplicateValue) {\r\n      await this.unfollowVacation(vacation);\r\n    } else if (!duplicateValue || duplicateValue === undefined) {\r\n      await this.followVacation(vacation);\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    const filteredData = [...this.state.vacations]\r\n      .filter((vacation) =>\r\n        this.state.start_date\r\n          ? vacation.start_date ===\r\n          this.state.start_date.toISOString().split(\"T\")[0]\r\n          : 1\r\n      )\r\n      .filter((vacation) =>\r\n        this.state.end_date\r\n          ? vacation.end_date ===\r\n          this.state.end_date?.toISOString().split(\"T\")[0]\r\n          : 1\r\n      )\r\n      .filter((vacation) =>\r\n        this.state.description\r\n          ? vacation.description\r\n            .toLowerCase()\r\n            .includes(this.state.description.toLowerCase())\r\n          : 1\r\n      );\r\n\r\n    return (\r\n      <div className=\"mainPage\">\r\n        <div className=\"flexDiv\">\r\n          <div className=\"searchBar\">\r\n            <span className=\"formSpan\">Search Bar:</span>\r\n            <DatePicker\r\n              selected={this.state.start_date}\r\n              onChange={(date) => {\r\n                this.onStartDateSelected(date);\r\n              }}\r\n              placeholderText=\"Start Date\"\r\n              minDate={this.min_date}\r\n              isClearable\r\n            />\r\n\r\n            <DatePicker\r\n              selected={this.state.end_date}\r\n              onChange={(date) => {\r\n                this.onEndDateSelected(date);\r\n              }}\r\n              placeholderText=\"End Date\"\r\n              minDate={this.min_date}\r\n              isClearable\r\n            />\r\n\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              name=\"description\"\r\n              value={this.state.description}\r\n              onChange={this.onDescriptionInputChanged}\r\n            />\r\n          </div>\r\n          {this.state.loggedInUser?.user_type === \"ADMIN\" && (\r\n            <div className=\"adminNavDiv\">\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className=\"statisticsButton\"\r\n                onClick={() => this.onStatisticsClicked()}\r\n              >\r\n                Statistics\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className=\"addVacationButton\"\r\n                onClick={() => this.onAddVacationClicked()}\r\n              >\r\n                Add Vacation\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {filteredData.map((vacation, index) => (\r\n          <VacationComponent\r\n            vacation={vacation}\r\n            key={index}\r\n            is_following={vacation.is_following}\r\n            onEditClicked={(vacation: Vacation) => {\r\n              this.onEditVacationClicked(vacation);\r\n            }}\r\n            onDeleteClicked={(id: number) => {\r\n              this.onDeleteVacationClicked(id);\r\n            }}\r\n            onFollowButtonClicked={(vacation: Vacation) => {\r\n              this.onFollowButtonClicked(vacation);\r\n            }}\r\n          />\r\n        ))}\r\n\r\n        {filteredData.length === 0 && (\r\n          <h3 className=\"noDataText\">No Vacations Found</h3>\r\n        )}\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            admin_state={this.admin_state}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class UserLoginDetails {\r\n  public constructor(public username?: string, public password?: string) {}\r\n}\r\n","import React, { Component, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./login.css\";\r\nimport { UserLoginDetails } from \"../../models/UserLoginDetails\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\n\r\ninterface LoginState {\r\n  username: string;\r\n  password: string;\r\n  is_modal_open: boolean;\r\n}\r\n\r\nexport default class Login extends Component<any, LoginState> {\r\n  private errorMessage: string;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      is_modal_open: false,\r\n    };\r\n\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public componentDidMount() {\r\n    store.dispatch({\r\n      type: ActionType.ChangeUserState,\r\n      payload: \"LOGIN\",\r\n    });\r\n  }\r\n\r\n  private onUsernameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const username = args.target.value;\r\n    this.setState({ username });\r\n  };\r\n\r\n  private onPasswordInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const password = args.target.value;\r\n    this.setState({ password });\r\n  };\r\n\r\n  private login = async () => {\r\n    try {\r\n      let userLoginDetails = new UserLoginDetails(\r\n        this.state.username,\r\n        this.state.password\r\n      );\r\n      const response = await axios.post<SuccessfulLoginServerResponse>(\r\n        `${config.server_url}/users/login`,\r\n        userLoginDetails\r\n      );\r\n      const serverResponse = response.data;\r\n\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        \"Bearer \" + serverResponse.token;\r\n\r\n      store.dispatch({\r\n        type: ActionType.Login,\r\n        payload: serverResponse,\r\n      });\r\n\r\n      sessionStorage.setItem(\"user_data\", JSON.stringify(serverResponse));\r\n\r\n      this.props.history.push(\"/mainPage\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to log-in, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          name=\"username\"\r\n          value={this.state.username}\r\n          onChange={this.onUsernameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.onPasswordInputChanged}\r\n        />\r\n        <br />\r\n        <input type=\"button\" value=\"login\" onClick={this.login} />\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class UserRegisterDetails {\r\n  public constructor(\r\n    public firstname?: string,\r\n    public lastname?: string,\r\n    public username?: string,\r\n    public password?: string\r\n  ) {}\r\n}\r\n","import React, { Component, ChangeEvent } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./register.css\";\r\nimport { UserRegisterDetails } from \"../../models/UserRegisterDetails\";\r\nimport { SuccessfulLoginServerResponse } from \"../../models/SuccessfulLoginServerResponse\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport config from \"../../config\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\n\r\ninterface RegisterState {\r\n  firstname: string;\r\n  lastname: string;\r\n  username: string;\r\n  password: string;\r\n  is_modal_open: boolean;\r\n}\r\n\r\nexport default class Register extends Component<any, RegisterState> {\r\n  private errorMessage: string;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: \"\",\r\n      lastname: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      is_modal_open: false,\r\n    };\r\n\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public componentDidMount() {\r\n    store.dispatch({\r\n      type: ActionType.ChangeUserState,\r\n      payload: \"REGISTER\",\r\n    });\r\n  }\r\n\r\n  private onFirstnameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const firstname = args.target.value;\r\n    this.setState({ firstname });\r\n  };\r\n\r\n  private onLastnameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const lastname = args.target.value;\r\n    this.setState({ lastname });\r\n  };\r\n\r\n  private onUsernameInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const username = args.target.value;\r\n    this.setState({ username });\r\n  };\r\n\r\n  private onPasswordInputChanged = (args: ChangeEvent<HTMLInputElement>) => {\r\n    const password = args.target.value;\r\n    this.setState({ password });\r\n  };\r\n\r\n  private register = async () => {\r\n    try {\r\n      let userRegisterDetails = new UserRegisterDetails(\r\n        this.state.firstname,\r\n        this.state.lastname,\r\n        this.state.username,\r\n        this.state.password\r\n      );\r\n      const response = await axios.post<SuccessfulLoginServerResponse>(\r\n        `${config.server_url}/users/`,\r\n        userRegisterDetails\r\n      );\r\n      const serverResponse = response.data;\r\n\r\n      axios.defaults.headers.common[\"Authorization\"] =\r\n        \"Bearer \" + serverResponse.token;\r\n\r\n      store.dispatch({\r\n        type: ActionType.Login,\r\n        payload: serverResponse,\r\n      });\r\n\r\n      sessionStorage.setItem(\"user_data\", JSON.stringify(serverResponse));\r\n\r\n      this.props.history.push(\"/mainPage\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      this.errorMessage = \"Failed to register, \" + error.response.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  /**\r\n   * Validates that the text inputs  meet the requirements and setting an error message accordingly\r\n   */\r\n  public isFormValid = () => {\r\n    let { firstname, lastname, username, password } = this.state;\r\n\r\n    if (firstname.trim().length < 3 || firstname.trim().length > 20) {\r\n      this.errorMessage = \"Firstname must contain between 3 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (lastname.trim().length < 3 || lastname.trim().length > 20) {\r\n      this.errorMessage = \"Lastname must contain between 3 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (username.trim().length < 4 || username.trim().length > 16) {\r\n      this.errorMessage = \"Username must contain between 4 - 20 letters\";\r\n      return false;\r\n    }\r\n    if (password.trim().length < 4 || password.trim().length > 16) {\r\n      this.errorMessage = \"Password must contain between 4 - 16 letters\";\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"register\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Firstname\"\r\n          name=\"firstname\"\r\n          value={this.state.firstname}\r\n          onChange={this.onFirstnameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Lastname\"\r\n          name=\"lastname\"\r\n          value={this.state.lastname}\r\n          onChange={this.onLastnameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"User name\"\r\n          name=\"username\"\r\n          value={this.state.username}\r\n          onChange={this.onUsernameInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={this.state.password}\r\n          onChange={this.onPasswordInputChanged}\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"button\"\r\n          value=\"login\"\r\n          disabled={!this.isFormValid()}\r\n          onClick={this.register}\r\n        />\r\n\r\n        {!this.isFormValid() && (\r\n          <div className=\"alertMessage\">\r\n            <span>{this.errorMessage}</span>\r\n          </div>\r\n        )}\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Bar } from 'react-chartjs-2';\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { FollowersData } from \"../../models/FollowersData\";\r\nimport ResponsiveDialog from \"../dialog/dialog\";\r\nimport \"./graph.css\";\r\n\r\ninterface GraphState {\r\n  data: object,\r\n  is_modal_open: boolean\r\n}\r\n\r\nexport default class Graph extends Component<any, GraphState> {\r\n  public errorMessage: string;\r\n  public options: object;\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      data: null,\r\n      is_modal_open: false\r\n    };\r\n\r\n    this.options = {\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        yAxes: [{\r\n          ticks: {\r\n            min: 0,\r\n            stepSize: 1\r\n          }\r\n        }]\r\n      },\r\n    }\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n\r\n  public async componentDidMount() {\r\n    await this.getAllFollowersData();\r\n  }\r\n\r\n  public getAllFollowersData = async () => {\r\n    try {\r\n      const response = await axios.get<FollowersData[]>(\r\n        `${config.server_url}/followers/`\r\n      );\r\n      this.displayData(response.data)\r\n\r\n    } catch (error) {\r\n      this.errorMessage = \"Failed to get Vacations, \" + error.response?.data;\r\n      this.setState({ is_modal_open: true });\r\n    }\r\n  };\r\n\r\n  public displayData(followersData: FollowersData[]) {\r\n    let labels: any = [];\r\n    let dataArray: any = [];\r\n\r\n    for (let prop in followersData) {\r\n      if (Object.prototype.hasOwnProperty.call(followersData, prop)) {\r\n        labels[prop] = (`Vacation #${followersData[prop].vacation_id}`);\r\n        dataArray[prop] = (followersData[prop].total_followers);\r\n      }\r\n    }\r\n    const data = {\r\n      labels: [...labels],\r\n      datasets: [\r\n        {\r\n          label: 'Amount of Followers',\r\n          backgroundColor: 'rgba(255,99,132,0.2)',\r\n          borderColor: 'rgba(255,99,132,1)',\r\n          borderWidth: 1,\r\n          hoverBackgroundColor: 'rgba(255,99,132,0.4)',\r\n          hoverBorderColor: 'rgba(255,99,132,1)',\r\n          data: [...dataArray]\r\n        }\r\n      ]\r\n    }\r\n    this.setState({ data })\r\n  }\r\n\r\n  public onModalClosed() {\r\n    this.setState({ is_modal_open: false });\r\n    this.errorMessage = \"\";\r\n  }\r\n\r\n  public onGoBackButtonClicked() {\r\n    this.props.history.push(\"/mainPage\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"graphContainer\">\r\n        <div>\r\n          <h2>Admin Reports</h2>\r\n          <button className=\"btn btn-primary\" onClick={() => this.onGoBackButtonClicked()}>Go Back</button>\r\n        </div>\r\n        {this.state.data &&\r\n          <Bar\r\n            data={this.state.data}\r\n            width={100}\r\n            height={500}\r\n            options={this.options}\r\n          />\r\n        }\r\n\r\n        {this.state.is_modal_open && (\r\n          <ResponsiveDialog\r\n            open={this.state.is_modal_open}\r\n            onClose={() => this.onModalClosed()}\r\n            errorMessage={this.errorMessage}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route, BrowserRouter, Redirect } from \"react-router-dom\";\r\nimport \"./layout.css\";\r\nimport Header from \"../header/header\";\r\nimport Footer from \"../footer/footer\";\r\nimport MainPage from \"../main-page/main-page\";\r\nimport Login from \"../login/login\";\r\nimport Register from \"../register/register\";\r\nimport Graph from \"../graph/graph\";\r\n\r\nexport default class Layout extends Component {\r\n  public render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <section className=\"layout\">\r\n          <header>\r\n            <Header />\r\n          </header>\r\n\r\n          <main>\r\n            <Switch>\r\n              <Route path=\"/mainPage\" component={MainPage} exact />\r\n              <Route path=\"/login\" component={Login} exact />\r\n              <Route path=\"/register\" component={Register} exact />\r\n              <Route path=\"/adminReports\" component={Graph} exact />\r\n              <Redirect from=\"/\" to=\"/login\" exact />\r\n              <Redirect from=\"**\" to=\"/login\" exact />\r\n            </Switch>\r\n          </main>\r\n\r\n          <footer>\r\n            <Footer />\r\n          </footer>\r\n        </section>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Layout from \"./components/layout/layout\";\n\nReactDOM.render(\n  <React.Fragment>\n    <link\n      rel=\"stylesheet\"\n      href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"\n    ></link>\n    <link\n      href=\"https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css\"\n      rel=\"stylesheet\"\n    ></link>\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\"></script>\n    <script src=\"https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js\"></script>\n    <Layout />\n  </React.Fragment>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}